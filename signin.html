<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in</title>
    <link rel="stylesheet" href="./style.css"/>
</head>
<body>
    <div class="hero signin">
        <div class="signin_left">
            <img src="./assets/bike3.jpg" alt="bike signin">
        </div>
        <div class="sigin_right">
            <h1>Login</h1>
            <form onsubmit="handleSignin(event)" name="signin">
                <div>
                <label for="email">Enter Email</label>
                <input name="email" type="text" placeholder="Email" required><br><br>
                </div>
                <div>
                <label for="email">Enter Password</label>
                <input name="password" type="text" placeholder="Password" required><br><br>
                </div>
                <p>Dont have an account? <a href="signup.html">Sign up</a></p>
                <span class="error_mail">invalid Email</span>
                <span class="error_password">invalid Password</span>
                <input type="submit"/>
            </form>
        </div>
    </div>
    <script>
        // ---------------signin page--------------
const handleSignin = (event)=>{
    event.preventDefault()
    const ourForm = document.forms['signin']
    let data = new FormData(ourForm)
    const userInfo = {
        email: data.get('email'),
        password: data.get('password'),
    }
    //----------fetch userData----------
    const fetchUser = localStorage.getItem(userInfo.email)
    if (fetchUser){
        let passord = JSON.parse(fetchUser).password
        if(passord === userInfo.password){
            window.location = 'index.html'
        }else{
            document.querySelector('.error_password').style.display = 'inline'
        }
    }else{
        document.querySelector('.error_mail').style.display = 'inline'
    }
}
// ---------------delete account--------------
const handleDelete = ()=>{
    alert('This functionality has not been implemented')
    </script>
</body>
</html>